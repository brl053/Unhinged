#!/bin/bash
# Desktop launcher for Unhinged application
# 
# @llm-type desktop-launcher
# @llm-legend Desktop integration launcher that provides seamless normal user experience
# @llm-key Launches unified entry point with desktop environment integration
# @llm-map Bridges desktop environment to unified entry point for "Toyota experience"
# @llm-axiom Desktop users should never see terminal commands or implementation details
# @llm-contract Provides single-click launch with graceful error handling and user feedback
# @llm-token desktop-launcher: seamless desktop integration for normal users

set -e

# Detect project root
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

# Desktop environment detection
if [ -z "$DISPLAY" ]; then
    echo "Error: No display environment detected"
    exit 1
fi

# Change to project directory
cd "$PROJECT_ROOT"

# Check if unified entry point exists
if [ ! -x "./unhinged" ]; then
    echo "Error: Unhinged entry point not found"
    exit 1
fi

# Launch with normal user experience (no dev mode)
exec "./unhinged" start
