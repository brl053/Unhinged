#!/bin/bash

# ============================================================================
# Unhinged Build System Wrapper
# ============================================================================
# 
# Simple wrapper around the Python build system for easy CLI usage
#
# Usage:
#   ./build dev                    # Start development environment
#   ./build cdc                    # Start CDC system only
#   ./build test                   # Run all tests
#   ./build deploy --env staging   # Deploy to staging
#   ./build --list-targets         # Show available targets
#
# Author: LLM Agent
# Version: 1.0.0
# Date: 2025-01-04
# ============================================================================

# Check if Python 3 is available
if ! command -v python3 &> /dev/null; then
    echo "❌ Python 3 is required but not installed"
    echo "Please install Python 3 and try again"
    exit 1
fi

# Check if PyYAML is available
if ! python3 -c "import yaml" &> /dev/null; then
    echo "⚠️  PyYAML not found, installing..."
    pip3 install PyYAML
fi

# Get the directory of this script
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Run the Python build system with all arguments
python3 "$SCRIPT_DIR/scripts/build-system.py" "$@"
