# Button Component Specification
# @llm-type component-specification
# @llm-legend Platform-agnostic button component specification defining semantic behavior and styling
# @llm-key Primary interactive element specification with semantic types, states, and accessibility requirements
# @llm-map Core primitive component in design system component hierarchy
# @llm-axiom Button specifications must be platform-agnostic describing WHAT not HOW
# @llm-contract Defines button interface, states, events, and token mappings for generator consumption
# @llm-token button-component: Interactive element specification with semantic styling and accessibility

component:
  id: "button"
  name: "Button"
  category: "primitive"
  
  description: |
    Primary interactive element for triggering actions, submitting forms, 
    and navigation. Semantic purpose determines styling, not visual preference.
    
    Use buttons for actions that change application state or trigger operations.
    For navigation without state change, consider link components instead.

  # Platform-agnostic interface definition
  interface:
    properties:
      label:
        type: "string"
        required: true
        description: "Button text content displayed to user"
      
      semantic_type:
        type: "enum"
        values: ["primary", "secondary", "tertiary", "danger"]
        default: "primary"
        description: |
          Semantic purpose that determines visual styling:
          - primary: Main action (submit, save, continue)
          - secondary: Supporting action (cancel, back)
          - tertiary: Minimal action (link-like behavior)
          - danger: Destructive action (delete, remove)
      
      disabled:
        type: "boolean"
        default: false
        description: "When true, button is non-interactive and visually dimmed"
      
      size:
        type: "enum"
        values: ["compact", "default", "large"]
        default: "default"
        description: |
          Button sizing for different contexts:
          - compact: Dense layouts, toolbars
          - default: Standard forms and dialogs
          - large: Primary actions, mobile interfaces
      
      icon_position:
        type: "enum"
        values: ["none", "start", "end"]
        default: "none"
        description: "Icon placement relative to label text"
      
      icon_name:
        type: "string"
        required: false
        description: "Icon identifier when icon_position is not 'none'"
      
      full_width:
        type: "boolean"
        default: false
        description: "When true, button stretches to fill parent width"
      
      loading:
        type: "boolean"
        default: false
        description: "Shows loading indicator, disables interaction"
    
    # Visual and behavioral states
    states:
      default:
        description: "Initial appearance, ready for interaction"
        visual_tokens: ["action.primary", "text.inverse"]
      
      hover:
        description: "User hovering with pointer (desktop only)"
        visual_tokens: ["action.primary", "interactive.hover"]
        triggers: ["pointer_enter"]
        transitions: ["default", "active", "focus"]
      
      active:
        description: "Pressed/clicked state during interaction"
        visual_tokens: ["action.primary", "interactive.active"]
        triggers: ["pointer_down", "keyboard_enter", "keyboard_space"]
        transitions: ["default", "hover"]
      
      focus:
        description: "Keyboard focus indicator"
        visual_tokens: ["border.medium", "interactive.focus"]
        triggers: ["keyboard_focus", "programmatic_focus"]
        transitions: ["default", "hover", "active"]
      
      disabled:
        description: "Non-interactive state"
        visual_tokens: ["action.disabled", "text.disabled"]
        triggers: ["disabled_property_true"]
        transitions: ["default"]
      
      loading:
        description: "Processing state with loading indicator"
        visual_tokens: ["action.primary", "text.inverse"]
        triggers: ["loading_property_true"]
        transitions: ["default"]
    
    # Events emitted by component
    events:
      click:
        description: "User triggered the button action"
        payload: {}
      
      focus:
        description: "Keyboard focus gained"
        payload: {}
      
      blur:
        description: "Keyboard focus lost"
        payload: {}

  # Visual styling using design tokens
  styling:
    default_state:
      background: "colors.action.primary"
      text_color: "colors.text.inverse"
      padding: ["spacing.scale.sp_2", "spacing.scale.sp_4"]  # vertical, horizontal
      border_radius: "8px"
      border: "none"
      font_family: "typography.families.prose"
      font_size: "typography.scale.body.size"
      font_weight: "medium"
      min_height: "44px"  # Touch target accessibility
    
    # Size variations
    size_overrides:
      compact:
        padding: ["sp.1_5", "sp.3"]
        font: "type.caption"
        min_height: "32px"
      
      large:
        padding: ["sp.2_5", "sp.5"]
        font: "type.heading"
        min_height: "56px"
    
    # Semantic type variations
    semantic_overrides:
      secondary:
        background: "surface.elevated"
        text_color: "text.primary"
        border: ["border.thin", "border.default"]
      
      tertiary:
        background: "transparent"
        text_color: "action.primary"
        border: "none"
      
      danger:
        background: "feedback.error"
        text_color: "text.inverse"
    
    # State overlays and modifications
    state_overlays:
      hover:
        overlay: "interactive.hover"
        opacity: 0.08
      
      active:
        overlay: "interactive.active"
        opacity: 0.12
      
      disabled:
        opacity: 0.5
      
      focus:
        ring: ["border.medium", "interactive.focus"]
        ring_offset: "2px"
      
      loading:
        cursor: "wait"
        # Loading spinner replaces icon or appears before text

  # Layout and composition rules
  composition:
    is_leaf: true
    can_contain: []
    required_context: []
    layout_type: "box"

  # Accessibility requirements
  accessibility:
    keyboard_support: true
    screen_reader_label: "automatic"  # Uses label property
    focus_indicator: "required"
    contrast_requirement: "WCAG_AA"
    
    keyboard_interactions:
      - key: "Enter"
        action: "trigger_click"
      - key: "Space"
        action: "trigger_click"
      - key: "Tab"
        action: "focus_next"
      - key: "Shift+Tab"
        action: "focus_previous"

  # Usage examples for documentation
  examples:
    - name: "Primary action button"
      description: "Main action in a form or dialog"
      properties:
        label: "Submit"
        semantic_type: "primary"
    
    - name: "Secondary action button"
      description: "Supporting action like cancel or back"
      properties:
        label: "Cancel"
        semantic_type: "secondary"
    
    - name: "Danger action button"
      description: "Destructive action requiring confirmation"
      properties:
        label: "Delete Account"
        semantic_type: "danger"
    
    - name: "Button with icon"
      description: "Action with visual icon for clarity"
      properties:
        label: "Save Document"
        icon_position: "start"
        icon_name: "save"
    
    - name: "Loading button"
      description: "Button showing processing state"
      properties:
        label: "Saving..."
        loading: true
        disabled: true
    
    - name: "Full-width button"
      description: "Button that spans container width"
      properties:
        label: "Continue"
        full_width: true
        size: "large"

# Component metadata
metadata:
  version: "1.0.0"
  last_updated: "2025-01-27"
  design_review: "approved"
  implementation_status:
    gtk4: "pending"
    react: "pending"
    kotlin: "pending"
    c: "pending"
