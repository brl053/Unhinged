# Design System Interaction States - State Machine
# Based on designer specifications: standardized interaction state system
#
# Interaction Contract:
# - Every interactive element follows the same state machine
# - States are additive, not replacements (focused + hovered shows both)
# - Interactive states use overlay approach, not color replacement
# - Minimum 200ms duration when motion enabled
#
# Usage: Applied automatically to all interactive elements

# INTERACTION STATE SYSTEM
# Every interactive element follows this exact state machine
interaction_states:
  # Default - Base appearance (initial load)
  default:
    visual_treatment: "base_appearance"
    trigger: "initial_load"

  # Hover - Mouse over (desktop only)
  hover:
    visual_treatment: "interactive.hover overlay at 8% opacity"
    trigger: "mouse_over_desktop"
    duration: "150ms"

  # Active - Mouse down or touch press
  active:
    visual_treatment: "interactive.active overlay at 12% opacity"
    trigger: "mouse_down_or_touch_press"
    duration: "150ms"

  # Focus - Keyboard navigation, click
  focus:
    visual_treatment: "border.medium ring + interactive.focus color"
    trigger: "keyboard_navigation_or_click"
    contrast_requirement: "3:1 minimum"

  # Disabled - Unavailable state
  disabled:
    visual_treatment: "text.disabled + action.disabled background + 50% opacity"
    trigger: "unavailable_state"
    cursor: "not-allowed"

  # Loading - Async operation in progress
  loading:
    visual_treatment: "60% opacity + optional spinner"
    trigger: "async_operation_in_progress"
    duration: "200ms"

# MOTION PREFERENCES (conditional support)
# Designer note: Define now for future use
motion:
  # Standard durations
  duration:
    fast: "150ms"      # Hover, active states
    normal: "200ms"    # Loading, disabled transitions
    slow: "300ms"      # Complex state changes

  # Reduced motion preferences
  reduced_motion:
    disable_hover_overlays: true
    use_instant_state_changes: true
    tooltip_appear_immediately: true
    minimum_duration: "200ms"  # When motion is enabled

# PLATFORM-SPECIFIC ADAPTATIONS
platforms:
  gtk4:
    # GTK4 may have limited animation support
    # Focus on essential state changes only
    hover_duration: "200ms"
    active_duration: "150ms"
    disabled_duration: "300ms"

    # GTK4 may not support all CSS transitions
    supported_properties:
      - "background-color"
      - "opacity"
      - "border-color"

  # Future platform mappings
  # web: Full CSS animation capabilities
  # mobile: Faster animations for touch responsiveness

# ACCESSIBILITY INTEGRATION
# Motion preferences must be respected across all platforms
accessibility:
  prefers_reduced_motion:
    disable_hover_overlays: true
    disable_transitions: true
    instant_state_changes: true
    tooltip_immediate_show: true

  focus_indicators:
    always_visible: true
    high_contrast_mode: true
    minimum_contrast: "3:1"

  disabled_states:
    visual_indication_beyond_color: true
    cursor_change_when_supported: true
    opacity_reduction: "40-50%"
